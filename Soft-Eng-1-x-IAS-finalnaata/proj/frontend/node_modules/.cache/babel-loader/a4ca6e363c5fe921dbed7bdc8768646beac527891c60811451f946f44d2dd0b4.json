{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link,useNavigate}from\"react-router-dom\";import\"./ikaw.css\";import Medicineitem from\"./Medicineitem\";import Navbar from\"./NavBarAdmin\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Ikaw=()=>{const[medicines,setMedicine]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetchMeds=async()=>{try{const response=await axios.get(\"http://127.0.0.1:8000/app/meds/\");setMedicine(response.data.reverse());}catch(error){console.error(\"Error fetching medicines:\",error);}};fetchMeds();},[]);const handleDelete=async medId=>{try{await axios.delete(\"http://127.0.0.1:8000/app/meds/\".concat(medId,\"/delete\"));console.log(\"Medicine with ID \".concat(medId,\" deleted successfully from the backend\"));// Redirect back to the medicine list after deletion\nnavigate(\"/Admin\");// Replace with your medicine list route\n}catch(error){console.error(\"Error deleting medicine with ID \".concat(medId,\":\"),error);}};const handleEdit=medId=>{// Redirect to the edit form page, passing the medicine ID as a parameter\nnavigate(\"/edit/\".concat(medId));};return/*#__PURE__*/_jsxs(\"div\",{children:[\"  \",/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cardsmed\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"MEDICINE INFORMATION\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cards__containerprod\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cards__wrapperprod\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"cards__itemsprod\",children:medicines.map(medicine=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Medicineitem,{src:medicine.image,text:medicine.medName,label:\"Medicine\",path:\"/meds/\".concat(medicine.medId)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(medicine.medId),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(medicine.medId),children:\"Delete\"})]})]},medicine.medId))})})}),/*#__PURE__*/_jsx(Link,{to:\"/add\",className:\"link-button\",children:\"Add New Medicine\"})]})]});};export default Ikaw;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","Medicineitem","Navbar","jsx","_jsx","jsxs","_jsxs","Ikaw","medicines","setMedicine","navigate","fetchMeds","response","get","data","reverse","error","console","handleDelete","medId","delete","concat","log","handleEdit","children","className","map","medicine","src","image","text","medName","label","path","onClick","to"],"sources":["C:/Users/Kian/Desktop/Soft-Eng-1-x-IAS-finalnaata/Soft-Eng-1-x-IAS-finalnaata/proj/frontend/src/components/ikaw.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./ikaw.css\";\nimport Medicineitem from \"./Medicineitem\";\nimport Navbar from \"./NavBarAdmin\";\n\nconst Ikaw = () => {\n  const [medicines, setMedicine] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchMeds = async () => {\n      try {\n        const response = await axios.get(\"http://127.0.0.1:8000/app/meds/\");\n         setMedicine(response.data.reverse());\n      } catch (error) {\n        console.error(\"Error fetching medicines:\", error);\n      }\n    };\n\n    fetchMeds();\n  }, []);\n  \n  const handleDelete = async (medId) => {\n    try {\n      await axios.delete(`http://127.0.0.1:8000/app/meds/${medId}/delete`);\n      console.log(`Medicine with ID ${medId} deleted successfully from the backend`);\n  \n      // Redirect back to the medicine list after deletion\n      navigate(\"/Admin\"); // Replace with your medicine list route\n    } catch (error) {\n      console.error(`Error deleting medicine with ID ${medId}:`, error);\n    }\n  };\n  \n  const handleEdit = (medId) => {\n    // Redirect to the edit form page, passing the medicine ID as a parameter\n    navigate(`/edit/${medId}`);\n  };\n\n  return (\n    <div>  <Navbar/>\n\n    <div className=\"cardsmed\">\n      <h1>MEDICINE INFORMATION</h1>\n      <div className=\"cards__containerprod\">\n        <div className=\"cards__wrapperprod\">\n          <ul className=\"cards__itemsprod\">\n              {medicines.map((medicine) => (\n                <div key={medicine.medId}>\n                  <Medicineitem\n                    src={medicine.image}\n                    text={medicine.medName}\n                    label=\"Medicine\"\n                    path={`/meds/${medicine.medId}`}\n                  />\n                  <div>\n                    <button onClick={() => handleEdit(medicine.medId)}>Edit</button>\n                    <button onClick={() => handleDelete(medicine.medId)}>Delete</button>\n                  </div>\n                </div>\n              ))}\n              \n          </ul>\n        </div>\n      </div>\n      <Link to=\"/add\" className=\"link-button\">\n        Add New Medicine\n      </Link>\n    </div>\n    </div>\n  );\n};\n\nexport default Ikaw;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}